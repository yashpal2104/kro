apiVersion: kro.run/v1alpha1
kind: ResourceGraphDefinition
metadata:
  name: check-external-references
  finalizers:
    - kro.run/finalizer
status:
  # filter conditions array to keep elements where `type == 'Ready'`
  # and assert there's a single element matching the filter
  # and that this element status is `True`
  (conditions[?type == 'Ready']):
    - status: 'True'
  state: Active
  topologicalOrder:
    - input
    - owned

